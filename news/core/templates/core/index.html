{% extends 'core/base.html' %}
{% load static %}


{% block title %}
    View the world
{% endblock %}

{% block hero %}
<section class="section hero" aria-label="home">
    <div class="container">
      {% for listing in listings|slice:":1"  %}
      <div class="hero-banner">
        <figure class="img-holder mobile" style="--width : 300; --height:300;">
          <img src="{{ listing.image.url }}" width="300" height="300" alt="hero-banner" class="img-cover">
        </figure>
        
        <figure class="img-holder desktop" style="--width : 300; --height:600;">
          <img src="{% static 'assets/images/image-web-3-desktop.jpg' %}" width="300" height="600" alt="hero-banner" class="img-cover">
        </figure>
      </div>
      
      <div class="hero-content">
        <!-- set first index of article to hero -->
        
        <h1 class="h1 hero-title">
          {{listing.title}}
        </h1>


        <div class="wrapper">

            <p class="hero-subtext">
              {{listing.subtitle}}
            </p>

            <a href="/listings/{{ listing.id }}/" class="btn btn-primary">Read more</a>
        </div>
        {% endfor %}
      </div>
    </div>
</section>
{% endblock hero %}

{% block new %}
<section class="section new" aria-labelledby="new-label">
    <div class="container">

      <div class="new-wrapper">
        <h2 class="h2 section-title">New</h2>

        <ul class="grid-list">
            {% for listing in listings %}
          <li>
            <div class="new-card">
              <a href="/listings/{{ listing.id }}/" class="h4 card-title">{{listing.title}}</a>

              <p class="card-subtext">
                {{listing.subtitle}}
              </p>
            </div>
          </li>
            {% endfor %}
        </ul>

      </div>
        
    </div>
</section>
{% endblock new%}


{% block popular %}
<section class="section popular" aria-labelledby="popular-label">
    <div class="container">

      <!--planning to replace listings to trend listings-->

      <ul class="grid-list">
        {% for listing in listings|sort(attribute='viewCount', reverse=True)|slice(":3") %}
        <li>

          <div class="popular-card">
            <figure class="card-img img-holder" style="--width:200;--height:254">
              <img src="{{ listing.image.url }}" width="200" height="254" loading="lazy" alt="image-retro-pcs">
            </figure>
            
            <div>
              <p class="card-subtitle">Trend</p>
              <a href="/listings/{{ listing.id }}/"><h3 class="h3 card-title">{{listing.title}}</h3></a>
              
              <p class="card-subtext">
                {{listing.subtitle}}
              </p>
            </div>
          </div>

        </li>
        {% endfor %}
        <!-- <li>

          <div class="popular-card">
            <figure class="card-img img-holder" style="--width:200;--height:254">
              <img src="{% static 'assets/images/image-top-laptops.jpg' %}" width="200" height="254" loading="lazy" alt="image-retro-pcs">
            </figure>
            
            <div>
              <p class="card-subtitle">02</p>
              <h3 class="h3 card-title">Top 10 Laptops of 2022</h3>
              
              <p class="card-subtext">
                What happens when old PCs are given modern upgrades?
              </p>
            </div>
          </div>
          
        </li>

        <li>

          <div class="popular-card">
            <figure class="card-img img-holder" style="--width:200;--height:254">
              <img src="{% static 'assets/images/image-gaming-growth.jpg' %}" width="200" height="254" loading="lazy" alt="image-retro-pcs">
            </figure>
            
            <div>
              <p class="card-subtitle">03</p>
              <h3 class="h3 card-title">The Growth of Gaming</h3>
              
              <p class="card-subtext">
                How the pandemic has sparked fresh opportunities.
              </p>
            </div>
          </div>
          
        </li> -->

      </ul>

    </div>
  </section>   
{% endblock popular%}